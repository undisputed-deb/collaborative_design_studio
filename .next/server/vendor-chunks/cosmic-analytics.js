"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/cosmic-analytics";
exports.ids = ["vendor-chunks/cosmic-analytics"];
exports.modules = {

/***/ "(rsc)/./node_modules/cosmic-analytics/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/cosmic-analytics/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CosmicAnalytics: () => (/* binding */ CosmicAnalytics),
/* harmony export */   CosmicAnalyticsProvider: () => (/* binding */ CosmicAnalyticsProvider),
/* harmony export */   getAnalytics: () => (/* binding */ getAnalytics),
/* harmony export */   getReferrerSource: () => (/* binding */ getReferrerSource),
/* harmony export */   initAnalytics: () => (/* binding */ initAnalytics),
/* harmony export */   isBrowser: () => (/* binding */ isBrowser),
/* harmony export */   parseUserAgent: () => (/* binding */ parseUserAgent),
/* harmony export */   useCosmicAnalytics: () => (/* binding */ useCosmicAnalytics)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");

const CosmicAnalytics = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call CosmicAnalytics() from the server but CosmicAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"CosmicAnalytics",
);const CosmicAnalyticsProvider = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call CosmicAnalyticsProvider() from the server but CosmicAnalyticsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"CosmicAnalyticsProvider",
);const getAnalytics = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call getAnalytics() from the server but getAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"getAnalytics",
);const getReferrerSource = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call getReferrerSource() from the server but getReferrerSource is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"getReferrerSource",
);const initAnalytics = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call initAnalytics() from the server but initAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"initAnalytics",
);const isBrowser = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call isBrowser() from the server but isBrowser is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"isBrowser",
);const parseUserAgent = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call parseUserAgent() from the server but parseUserAgent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"parseUserAgent",
);const useCosmicAnalytics = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCosmicAnalytics() from the server but useCosmicAnalytics is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/Users/Deb/Downloads/Colloborative Whiteboard/node_modules/cosmic-analytics/dist/index.mjs",
"useCosmicAnalytics",
);

/***/ }),

/***/ "(ssr)/./node_modules/cosmic-analytics/dist/index.mjs":
/*!******************************************************!*\
  !*** ./node_modules/cosmic-analytics/dist/index.mjs ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CosmicAnalytics: () => (/* binding */ CosmicAnalytics),\n/* harmony export */   CosmicAnalyticsProvider: () => (/* binding */ CosmicAnalyticsProvider),\n/* harmony export */   getAnalytics: () => (/* binding */ getAnalytics),\n/* harmony export */   getReferrerSource: () => (/* binding */ getReferrerSource),\n/* harmony export */   initAnalytics: () => (/* binding */ initAnalytics),\n/* harmony export */   isBrowser: () => (/* binding */ isBrowser),\n/* harmony export */   parseUserAgent: () => (/* binding */ parseUserAgent),\n/* harmony export */   useCosmicAnalytics: () => (/* binding */ useCosmicAnalytics)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* __next_internal_client_entry_do_not_use__ CosmicAnalytics,CosmicAnalyticsProvider,getAnalytics,getReferrerSource,initAnalytics,isBrowser,parseUserAgent,useCosmicAnalytics auto */ // src/client/useCosmicAnalytics.ts\n\n\n// src/lib/utils.ts\nfunction generateSessionId() {\n    return `${Date.now()}-${Math.random().toString(36).substring(2, 15)}`;\n}\nfunction isBrowser() {\n    return  false && 0;\n}\nfunction isDoNotTrackEnabled() {\n    if (!isBrowser()) return false;\n    const { doNotTrack, navigator: navigator2 } = window;\n    const dnt = doNotTrack || navigator2.doNotTrack || navigator2.msDoNotTrack;\n    return dnt === \"1\" || dnt === \"yes\";\n}\nfunction parseUserAgent(userAgent) {\n    const ua = userAgent.toLowerCase();\n    let type = \"desktop\";\n    if (/tablet|ipad|playbook|silk/i.test(ua)) {\n        type = \"tablet\";\n    } else if (/mobile|iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(ua)) {\n        type = \"mobile\";\n    }\n    let os = \"Unknown\";\n    if (/windows nt 10/i.test(ua)) os = \"Windows 10\";\n    else if (/windows nt 6.3/i.test(ua)) os = \"Windows 8.1\";\n    else if (/windows nt 6.2/i.test(ua)) os = \"Windows 8\";\n    else if (/windows nt 6.1/i.test(ua)) os = \"Windows 7\";\n    else if (/windows/i.test(ua)) os = \"Windows\";\n    else if (/android/i.test(ua)) os = \"Android\";\n    else if (/iphone|ipad|ipod/i.test(ua)) os = \"iOS\";\n    else if (/mac os x/i.test(ua)) os = \"macOS\";\n    else if (/linux/i.test(ua)) os = \"Linux\";\n    else if (/chromeos/i.test(ua)) os = \"Chrome OS\";\n    let browser = \"Unknown\";\n    let browserVersion = \"\";\n    if (/edg\\//i.test(ua)) {\n        browser = \"Edge\";\n        const match = ua.match(/edg\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/chrome|crios/i.test(ua) && !/edg/i.test(ua)) {\n        browser = \"Chrome\";\n        const match = ua.match(/chrome\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/firefox|fxios/i.test(ua)) {\n        browser = \"Firefox\";\n        const match = ua.match(/firefox\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/safari/i.test(ua) && !/chrome|crios/i.test(ua)) {\n        browser = \"Safari\";\n        const match = ua.match(/version\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    } else if (/opera|opr/i.test(ua)) {\n        browser = \"Opera\";\n        const match = ua.match(/(?:opera|opr)\\/(\\d+(\\.\\d+)*)/);\n        if (match) browserVersion = match[1];\n    }\n    return {\n        type,\n        os,\n        browser,\n        browserVersion\n    };\n}\nfunction getViewport() {\n    if (!isBrowser()) return \"\";\n    return `${window.innerWidth}x${window.innerHeight}`;\n}\nfunction getScreenResolution() {\n    if (!isBrowser()) return \"\";\n    return `${window.screen.width}x${window.screen.height}`;\n}\nfunction getReferrerSource(referrer) {\n    if (!referrer || referrer === \"\") return \"direct\";\n    try {\n        const url = new URL(referrer);\n        const hostname = url.hostname.replace(\"www.\", \"\");\n        if (hostname.includes(\"facebook.com\") || hostname.includes(\"fb.com\")) return \"facebook\";\n        if (hostname.includes(\"twitter.com\") || hostname.includes(\"t.co\")) return \"twitter\";\n        if (hostname.includes(\"linkedin.com\")) return \"linkedin\";\n        if (hostname.includes(\"instagram.com\")) return \"instagram\";\n        if (hostname.includes(\"youtube.com\")) return \"youtube\";\n        if (hostname.includes(\"reddit.com\")) return \"reddit\";\n        if (hostname.includes(\"google.\")) return \"google\";\n        if (hostname.includes(\"bing.com\")) return \"bing\";\n        if (hostname.includes(\"yahoo.\")) return \"yahoo\";\n        if (hostname.includes(\"duckduckgo.com\")) return \"duckduckgo\";\n        if (hostname.includes(\"baidu.com\")) return \"baidu\";\n        return hostname;\n    } catch  {\n        return \"invalid\";\n    }\n}\nfunction safeJsonParse(json, fallback) {\n    try {\n        return JSON.parse(json);\n    } catch  {\n        return fallback;\n    }\n}\n// src/lib/analytics.ts\nvar SESSION_TIMEOUT = 30 * 60 * 1e3;\nvar SESSION_STORAGE_KEY = \"cosmic_analytics_session\";\nvar CosmicAnalytics = class {\n    constructor(config){\n        this.session = null;\n        this.pageViewStart = 0;\n        this.isEnabled = true;\n        this.queue = [];\n        this.flushTimer = null;\n        this.config = {\n            apiEndpoint: \"https://api.cosmic.new/analytics\",\n            debug: false,\n            enabled: true,\n            respectDoNotTrack: true,\n            sendInDevelopment: false,\n            ...config\n        };\n        this.projectId = this.config.projectId || this.getProjectId();\n        this.apiEndpoint = this.config.apiEndpoint;\n        this.isEnabled = this.shouldEnableAnalytics();\n        if (this.isEnabled && isBrowser()) {\n            this.initializeSession();\n            this.setupEventListeners();\n            this.startFlushTimer();\n        }\n    }\n    getProjectId() {\n        return \"\";\n    }\n    isDevelopmentMode() {\n        if (typeof this.config.isDevelopment === \"boolean\") {\n            return this.config.isDevelopment;\n        }\n        if (typeof globalThis.process !== \"undefined\") {\n            return globalThis.process.env?.NODE_ENV === \"development\";\n        }\n        if (isBrowser()) {\n            if (window.__NEXT_DATA__?.buildId === \"development\") {\n                return true;\n            }\n            const hostname = window.location.hostname;\n            return hostname === \"localhost\" || hostname === \"127.0.0.1\" || hostname.includes(\".local\");\n        }\n        return false;\n    }\n    shouldEnableAnalytics() {\n        if (!this.config.enabled) return false;\n        if (!this.projectId) {\n            if (this.config.debug) {\n                console.warn(\"Cosmic Analytics: NEXT_PUBLIC_CLIENT_ID not found\");\n            }\n            return false;\n        }\n        if (this.isDevelopmentMode() && !this.config.sendInDevelopment) {\n            if (this.config.debug) {\n                console.log(\"Cosmic Analytics: Disabled in development mode. Set sendInDevelopment: true to enable.\");\n            }\n            return false;\n        }\n        if (this.config.respectDoNotTrack && isDoNotTrackEnabled()) {\n            if (this.config.debug) {\n                console.log(\"Cosmic Analytics: Respecting Do Not Track preference\");\n            }\n            return false;\n        }\n        return true;\n    }\n    initializeSession() {\n        const storedSession = this.getStoredSession();\n        if (storedSession && this.isSessionValid(storedSession)) {\n            this.session = storedSession;\n            this.session.lastActivity = Date.now();\n        } else {\n            this.session = {\n                id: generateSessionId(),\n                startTime: Date.now(),\n                pageViews: 0,\n                lastActivity: Date.now()\n            };\n        }\n        this.saveSession();\n    }\n    getStoredSession() {\n        if (!isBrowser()) return null;\n        try {\n            const stored = sessionStorage.getItem(SESSION_STORAGE_KEY);\n            if (!stored) return null;\n            return safeJsonParse(stored, null);\n        } catch  {\n            return null;\n        }\n    }\n    isSessionValid(session) {\n        const now = Date.now();\n        return now - session.lastActivity < SESSION_TIMEOUT;\n    }\n    saveSession() {\n        if (!isBrowser() || !this.session) return;\n        try {\n            sessionStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(this.session));\n        } catch (error) {\n            if (this.config.debug) {\n                console.error(\"Cosmic Analytics: Failed to save session\", error);\n            }\n        }\n    }\n    setupEventListeners() {\n        if (!isBrowser()) return;\n        document.addEventListener(\"visibilitychange\", ()=>{\n            if (document.visibilityState === \"hidden\") {\n                this.trackPageExit();\n                this.flush(true);\n            } else if (document.visibilityState === \"visible\") {\n                this.trackPageView();\n            }\n        });\n        window.addEventListener(\"beforeunload\", ()=>{\n            this.trackPageExit();\n            this.flush(true);\n        });\n    }\n    startFlushTimer() {\n        this.flushTimer = setInterval(()=>{\n            this.flush();\n        }, 5e3);\n    }\n    stopFlushTimer() {\n        if (this.flushTimer) {\n            clearInterval(this.flushTimer);\n            this.flushTimer = null;\n        }\n    }\n    addToQueue(event) {\n        this.queue.push(event);\n        if (this.queue.length >= 10) {\n            this.flush();\n        }\n    }\n    async flush(forceSendNow = false) {\n        if (this.queue.length === 0) return;\n        const events = [\n            ...this.queue\n        ];\n        this.queue = [];\n        try {\n            const response = await fetch(`${this.apiEndpoint}/track`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    events\n                }),\n                keepalive: forceSendNow\n            });\n            if (!response.ok && this.config.debug) {\n                console.error(\"Cosmic Analytics: Failed to send events\", response.status);\n                this.queue.unshift(...events);\n            }\n        } catch (error) {\n            if (this.config.debug) {\n                console.error(\"Cosmic Analytics: Error sending events\", error);\n            }\n            this.queue.unshift(...events);\n        }\n    }\n    trackPageView(overrides) {\n        if (!this.isEnabled || !isBrowser() || !this.session) return;\n        this.pageViewStart = Date.now();\n        this.session.pageViews++;\n        this.session.lastActivity = Date.now();\n        this.saveSession();\n        const event = {\n            event: \"pageview\",\n            projectId: this.projectId,\n            sessionId: this.session.id,\n            url: window.location.href,\n            title: document.title,\n            referrer: document.referrer || \"direct\",\n            timestamp: Date.now(),\n            screenResolution: getScreenResolution(),\n            viewport: getViewport(),\n            language: navigator.language,\n            userAgent: navigator.userAgent,\n            ...overrides\n        };\n        if (this.config.debug) {\n            console.log(\"Cosmic Analytics: Page view\", event);\n        }\n        this.addToQueue(event);\n    }\n    trackPageExit() {\n        if (!this.isEnabled || !isBrowser() || !this.session || !this.pageViewStart) return;\n        const duration = Date.now() - this.pageViewStart;\n        const event = {\n            event: \"pageexit\",\n            projectId: this.projectId,\n            sessionId: this.session.id,\n            url: window.location.href,\n            duration,\n            timestamp: Date.now()\n        };\n        if (this.config.debug) {\n            console.log(\"Cosmic Analytics: Page exit\", event);\n        }\n        this.addToQueue(event);\n    }\n    reset() {\n        if (!isBrowser()) return;\n        this.session = null;\n        sessionStorage.removeItem(SESSION_STORAGE_KEY);\n        if (this.isEnabled) {\n            this.initializeSession();\n        }\n    }\n    disable() {\n        this.isEnabled = false;\n        this.stopFlushTimer();\n        this.queue = [];\n    }\n    enable() {\n        this.isEnabled = this.shouldEnableAnalytics();\n        if (this.isEnabled && isBrowser()) {\n            this.initializeSession();\n            this.startFlushTimer();\n        }\n    }\n};\n// src/client/useCosmicAnalytics.ts\nvar analyticsInstance = null;\nfunction initAnalytics(config) {\n    if (!analyticsInstance) {\n        analyticsInstance = new CosmicAnalytics(config);\n    }\n    return analyticsInstance;\n}\nfunction getAnalytics() {\n    return analyticsInstance;\n}\nfunction useCosmicAnalytics(config) {\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.usePathname)();\n    const initializedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const prevUrlRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useCosmicAnalytics.useEffect\": ()=>{\n            if (!initializedRef.current) {\n                initAnalytics(config);\n                initializedRef.current = true;\n            }\n            const analytics = getAnalytics();\n            if (!analytics) return;\n            const currentUrl =  false ? 0 : pathname;\n            if (prevUrlRef.current !== currentUrl) {\n                analytics.trackPageView();\n                prevUrlRef.current = currentUrl;\n            }\n            return ({\n                \"useCosmicAnalytics.useEffect\": ()=>{\n                    analytics.trackPageExit();\n                }\n            })[\"useCosmicAnalytics.useEffect\"];\n        }\n    }[\"useCosmicAnalytics.useEffect\"], [\n        pathname,\n        config\n    ]);\n}\n// src/client/CosmicAnalyticsProvider.tsx\n\nfunction CosmicAnalyticsProvider({ children, config }) {\n    const projectId = \"42c5c102-76cb-4faf-b001-b23a109f37b6\";\n    const isDevelopment = \"development\" === \"development\";\n    const mergedConfig = {\n        projectId,\n        isDevelopment,\n        ...config\n    };\n    useCosmicAnalytics(mergedConfig);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, {\n        children\n    });\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29zbWljLWFuYWx5dGljcy9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFFa0M7QUFDTjs7QUNFckIsU0FBUyxvQkFBNEI7SUFDMUMsT0FBTyxHQUFHLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNyRTtBQUtPLFNBQVMsWUFBcUI7SUFDbkMsT0FBTyxNQUFrQixJQUFlLENBQW9CO0FBQzlEO0FBS08sU0FBUyxzQkFBK0I7SUFDN0MsSUFBSSxDQUFDLFVBQVUsRUFBRyxRQUFPO0lBRXpCLE1BQU0sRUFBRSxZQUFZLFdBQUFBLFVBQUFBLENBQVUsSUFBSTtJQUNsQyxNQUFNLE1BQU0sY0FBY0EsV0FBVSxjQUFjQSxXQUFVO0lBRTVELE9BQU8sUUFBUSxPQUFPLFFBQVE7QUFDaEM7QUFLTyxTQUFTLGVBQWUsV0FBK0I7SUFDNUQsTUFBTSxLQUFLLFVBQVUsWUFBWTtJQUdqQyxJQUFJLE9BQXdDO0lBQzVDLElBQUksNkJBQTZCLEtBQUssRUFBRSxHQUFHO1FBQ3pDLE9BQU87SUFDVCxXQUFXLHlGQUF5RixLQUFLLEVBQUUsR0FBRztRQUM1RyxPQUFPO0lBQ1Q7SUFHQSxJQUFJLEtBQUs7SUFDVCxJQUFJLGlCQUFpQixLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDM0Isa0JBQWtCLEtBQUssRUFBRSxFQUFHLE1BQUs7U0FBQSxJQUNqQyxrQkFBa0IsS0FBSyxFQUFFLEVBQUcsTUFBSztTQUFBLElBQ2pDLGtCQUFrQixLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDakMsV0FBVyxLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDMUIsV0FBVyxLQUFLLEVBQUUsRUFBRyxNQUFLO1NBQUEsSUFDMUIsb0JBQW9CLEtBQUssRUFBRSxFQUFHLE1BQUs7U0FBQSxJQUNuQyxZQUFZLEtBQUssRUFBRSxFQUFHLE1B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OUIsTUFBTSxnQkFBZ0IsUUFBUSxJQUFJLE1BQWE7SUFHL0MsTUFBTSxlQUFnQztRQUNwQztRQUNBO1FBQ0EsR0FBRztJQUNMO0lBRUEsbUJBQW1CLFlBQVk7SUFFL0IsT0FBTztRQUFHO0lBQUEsQ0FBUztBQUNyQiIsInNvdXJjZXMiOlsiL1VzZXJzL0RlYi9Eb3dubG9hZHMvc3JjL2NsaWVudC91c2VDb3NtaWNBbmFseXRpY3MudHMiLCIvVXNlcnMvRGViL0Rvd25sb2Fkcy9zcmMvbGliL3V0aWxzLnRzIiwiL1VzZXJzL0RlYi9Eb3dubG9hZHMvc3JjL2xpYi9hbmFseXRpY3MudHMiLCIvVXNlcnMvRGViL0Rvd25sb2Fkcy9zcmMvY2xpZW50L0Nvc21pY0FuYWx5dGljc1Byb3ZpZGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHR5cGUgeyBBbmFseXRpY3NDb25maWcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBDb3NtaWNBbmFseXRpY3MgfSBmcm9tICcuLi9saWIvYW5hbHl0aWNzJztcblxubGV0IGFuYWx5dGljc0luc3RhbmNlOiBDb3NtaWNBbmFseXRpY3MgfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBhbmFseXRpY3MgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRBbmFseXRpY3MoY29uZmlnPzogQW5hbHl0aWNzQ29uZmlnKTogQ29zbWljQW5hbHl0aWNzIHtcbiAgaWYgKCFhbmFseXRpY3NJbnN0YW5jZSkge1xuICAgIGFuYWx5dGljc0luc3RhbmNlID0gbmV3IENvc21pY0FuYWx5dGljcyhjb25maWcpO1xuICB9XG4gIHJldHVybiBhbmFseXRpY3NJbnN0YW5jZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgYW5hbHl0aWNzIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmFseXRpY3MoKTogQ29zbWljQW5hbHl0aWNzIHwgbnVsbCB7XG4gIHJldHVybiBhbmFseXRpY3NJbnN0YW5jZTtcbn1cblxuLyoqXG4gKiBSZWFjdCBob29rIGZvciBDb3NtaWMgQW5hbHl0aWNzIHdpdGggTmV4dC5qcyBBcHAgUm91dGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb3NtaWNBbmFseXRpY3MoY29uZmlnPzogQW5hbHl0aWNzQ29uZmlnKSB7XG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcbiAgY29uc3QgaW5pdGlhbGl6ZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBwcmV2VXJsUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBhbmFseXRpY3Mgb24gZmlyc3QgcmVuZGVyXG4gICAgaWYgKCFpbml0aWFsaXplZFJlZi5jdXJyZW50KSB7XG4gICAgICBpbml0QW5hbHl0aWNzKGNvbmZpZyk7XG4gICAgICBpbml0aWFsaXplZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBhbmFseXRpY3MgPSBnZXRBbmFseXRpY3MoKTtcbiAgICBpZiAoIWFuYWx5dGljcykgcmV0dXJuO1xuXG4gICAgLy8gVHJhY2sgcGFnZSB2aWV3IHdoZW4gVVJMIGNoYW5nZXNcbiAgICAvLyBXZSB1c2Ugd2luZG93LmxvY2F0aW9uLmhyZWYgdG8gZ2V0IHRoZSBmdWxsIFVSTCBpbmNsdWRpbmcgc2VhcmNoIHBhcmFtc1xuICAgIC8vIFRoaXMgYXZvaWRzIG5lZWRpbmcgdXNlU2VhcmNoUGFyYW1zIHdoaWNoIHJlcXVpcmVzIFN1c3BlbnNlXG4gICAgY29uc3QgY3VycmVudFVybCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiBwYXRobmFtZTtcbiAgICBcbiAgICBpZiAocHJldlVybFJlZi5jdXJyZW50ICE9PSBjdXJyZW50VXJsKSB7XG4gICAgICBhbmFseXRpY3MudHJhY2tQYWdlVmlldygpO1xuICAgICAgcHJldlVybFJlZi5jdXJyZW50ID0gY3VycmVudFVybDtcbiAgICB9XG5cbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uIHRvIHRyYWNrIHBhZ2UgZXhpdFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhbmFseXRpY3MudHJhY2tQYWdlRXhpdCgpO1xuICAgIH07XG4gIH0sIFtwYXRobmFtZSwgY29uZmlnXSk7XG59ICIsImltcG9ydCB0eXBlIHsgRGV2aWNlSW5mbyB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHVuaXF1ZSBzZXNzaW9uIElEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVNlc3Npb25JZCgpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpfWA7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgcnVubmluZyBpbiBicm93c2VyIGVudmlyb25tZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXIoKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIERvIE5vdCBUcmFjayBpcyBlbmFibGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RvTm90VHJhY2tFbmFibGVkKCk6IGJvb2xlYW4ge1xuICBpZiAoIWlzQnJvd3NlcigpKSByZXR1cm4gZmFsc2U7XG4gIFxuICBjb25zdCB7IGRvTm90VHJhY2ssIG5hdmlnYXRvciB9ID0gd2luZG93IGFzIGFueTtcbiAgY29uc3QgZG50ID0gZG9Ob3RUcmFjayB8fCBuYXZpZ2F0b3IuZG9Ob3RUcmFjayB8fCBuYXZpZ2F0b3IubXNEb05vdFRyYWNrO1xuICBcbiAgcmV0dXJuIGRudCA9PT0gJzEnIHx8IGRudCA9PT0gJ3llcyc7XG59XG5cbi8qKlxuICogUGFyc2UgdXNlciBhZ2VudCB0byBleHRyYWN0IGRldmljZSBpbmZvcm1hdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVc2VyQWdlbnQodXNlckFnZW50OiBzdHJpbmcpOiBEZXZpY2VJbmZvIHtcbiAgY29uc3QgdWEgPSB1c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgXG4gIC8vIERldGVjdCBkZXZpY2UgdHlwZVxuICBsZXQgdHlwZTogJ2Rlc2t0b3AnIHwgJ21vYmlsZScgfCAndGFibGV0JyA9ICdkZXNrdG9wJztcbiAgaWYgKC90YWJsZXR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdCh1YSkpIHtcbiAgICB0eXBlID0gJ3RhYmxldCc7XG4gIH0gZWxzZSBpZiAoL21vYmlsZXxpcGhvbmV8aXBvZHxhbmRyb2lkfGJsYWNrYmVycnl8b3BlcmF8bWluaXx3aW5kb3dzXFxzY2V8cGFsbXxzbWFydHBob25lfGllbW9iaWxlL2kudGVzdCh1YSkpIHtcbiAgICB0eXBlID0gJ21vYmlsZSc7XG4gIH1cbiAgXG4gIC8vIERldGVjdCBPU1xuICBsZXQgb3MgPSAnVW5rbm93bic7XG4gIGlmICgvd2luZG93cyBudCAxMC9pLnRlc3QodWEpKSBvcyA9ICdXaW5kb3dzIDEwJztcbiAgZWxzZSBpZiAoL3dpbmRvd3MgbnQgNi4zL2kudGVzdCh1YSkpIG9zID0gJ1dpbmRvd3MgOC4xJztcbiAgZWxzZSBpZiAoL3dpbmRvd3MgbnQgNi4yL2kudGVzdCh1YSkpIG9zID0gJ1dpbmRvd3MgOCc7XG4gIGVsc2UgaWYgKC93aW5kb3dzIG50IDYuMS9pLnRlc3QodWEpKSBvcyA9ICdXaW5kb3dzIDcnO1xuICBlbHNlIGlmICgvd2luZG93cy9pLnRlc3QodWEpKSBvcyA9ICdXaW5kb3dzJztcbiAgZWxzZSBpZiAoL2FuZHJvaWQvaS50ZXN0KHVhKSkgb3MgPSAnQW5kcm9pZCc7XG4gIGVsc2UgaWYgKC9pcGhvbmV8aXBhZHxpcG9kL2kudGVzdCh1YSkpIG9zID0gJ2lPUyc7XG4gIGVsc2UgaWYgKC9tYWMgb3MgeC9pLnRlc3QodWEpKSBvcyA9ICdtYWNPUyc7XG4gIGVsc2UgaWYgKC9saW51eC9pLnRlc3QodWEpKSBvcyA9ICdMaW51eCc7XG4gIGVsc2UgaWYgKC9jaHJvbWVvcy9pLnRlc3QodWEpKSBvcyA9ICdDaHJvbWUgT1MnO1xuICBcbiAgLy8gRGV0ZWN0IGJyb3dzZXJcbiAgbGV0IGJyb3dzZXIgPSAnVW5rbm93bic7XG4gIGxldCBicm93c2VyVmVyc2lvbiA9ICcnO1xuICBcbiAgaWYgKC9lZGdcXC8vaS50ZXN0KHVhKSkge1xuICAgIGJyb3dzZXIgPSAnRWRnZSc7XG4gICAgY29uc3QgbWF0Y2ggPSB1YS5tYXRjaCgvZWRnXFwvKFxcZCsoXFwuXFxkKykqKS8pO1xuICAgIGlmIChtYXRjaCkgYnJvd3NlclZlcnNpb24gPSBtYXRjaFsxXTtcbiAgfSBlbHNlIGlmICgvY2hyb21lfGNyaW9zL2kudGVzdCh1YSkgJiYgIS9lZGcvaS50ZXN0KHVhKSkge1xuICAgIGJyb3dzZXIgPSAnQ2hyb21lJztcbiAgICBjb25zdCBtYXRjaCA9IHVhLm1hdGNoKC9jaHJvbWVcXC8oXFxkKyhcXC5cXGQrKSopLyk7XG4gICAgaWYgKG1hdGNoKSBicm93c2VyVmVyc2lvbiA9IG1hdGNoWzFdO1xuICB9IGVsc2UgaWYgKC9maXJlZm94fGZ4aW9zL2kudGVzdCh1YSkpIHtcbiAgICBicm93c2VyID0gJ0ZpcmVmb3gnO1xuICAgIGNvbnN0IG1hdGNoID0gdWEubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKyhcXC5cXGQrKSopLyk7XG4gICAgaWYgKG1hdGNoKSBicm93c2VyVmVyc2lvbiA9IG1hdGNoWzFdO1xuICB9IGVsc2UgaWYgKC9zYWZhcmkvaS50ZXN0KHVhKSAmJiAhL2Nocm9tZXxjcmlvcy9pLnRlc3QodWEpKSB7XG4gICAgYnJvd3NlciA9ICdTYWZhcmknO1xuICAgIGNvbnN0IG1hdGNoID0gdWEubWF0Y2goL3ZlcnNpb25cXC8oXFxkKyhcXC5cXGQrKSopLyk7XG4gICAgaWYgKG1hdGNoKSBicm93c2VyVmVyc2lvbiA9IG1hdGNoWzFdO1xuICB9IGVsc2UgaWYgKC9vcGVyYXxvcHIvaS50ZXN0KHVhKSkge1xuICAgIGJyb3dzZXIgPSAnT3BlcmEnO1xuICAgIGNvbnN0IG1hdGNoID0gdWEubWF0Y2goLyg/Om9wZXJhfG9wcilcXC8oXFxkKyhcXC5cXGQrKSopLyk7XG4gICAgaWYgKG1hdGNoKSBicm93c2VyVmVyc2lvbiA9IG1hdGNoWzFdO1xuICB9XG4gIFxuICByZXR1cm4geyB0eXBlLCBvcywgYnJvd3NlciwgYnJvd3NlclZlcnNpb24gfTtcbn1cblxuLyoqXG4gKiBHZXQgdmlld3BvcnQgZGltZW5zaW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Vmlld3BvcnQoKTogc3RyaW5nIHtcbiAgaWYgKCFpc0Jyb3dzZXIoKSkgcmV0dXJuICcnO1xuICByZXR1cm4gYCR7d2luZG93LmlubmVyV2lkdGh9eCR7d2luZG93LmlubmVySGVpZ2h0fWA7XG59XG5cbi8qKlxuICogR2V0IHNjcmVlbiByZXNvbHV0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JlZW5SZXNvbHV0aW9uKCk6IHN0cmluZyB7XG4gIGlmICghaXNCcm93c2VyKCkpIHJldHVybiAnJztcbiAgcmV0dXJuIGAke3dpbmRvdy5zY3JlZW4ud2lkdGh9eCR7d2luZG93LnNjcmVlbi5oZWlnaHR9YDtcbn1cblxuLyoqXG4gKiBHZXQgcmVmZXJyZXIgc291cmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWZlcnJlclNvdXJjZShyZWZlcnJlcjogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFyZWZlcnJlciB8fCByZWZlcnJlciA9PT0gJycpIHJldHVybiAnZGlyZWN0JztcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZWZlcnJlcik7XG4gICAgY29uc3QgaG9zdG5hbWUgPSB1cmwuaG9zdG5hbWUucmVwbGFjZSgnd3d3LicsICcnKTtcbiAgICBcbiAgICAvLyBDb21tb24gc29jaWFsIG1lZGlhIHBsYXRmb3Jtc1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygnZmFjZWJvb2suY29tJykgfHwgaG9zdG5hbWUuaW5jbHVkZXMoJ2ZiLmNvbScpKSByZXR1cm4gJ2ZhY2Vib29rJztcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ3R3aXR0ZXIuY29tJykgfHwgaG9zdG5hbWUuaW5jbHVkZXMoJ3QuY28nKSkgcmV0dXJuICd0d2l0dGVyJztcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2xpbmtlZGluLmNvbScpKSByZXR1cm4gJ2xpbmtlZGluJztcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2luc3RhZ3JhbS5jb20nKSkgcmV0dXJuICdpbnN0YWdyYW0nO1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygneW91dHViZS5jb20nKSkgcmV0dXJuICd5b3V0dWJlJztcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ3JlZGRpdC5jb20nKSkgcmV0dXJuICdyZWRkaXQnO1xuICAgIFxuICAgIC8vIFNlYXJjaCBlbmdpbmVzXG4gICAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdnb29nbGUuJykpIHJldHVybiAnZ29vZ2xlJztcbiAgICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2JpbmcuY29tJykpIHJldHVybiAnYmluZyc7XG4gICAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCd5YWhvby4nKSkgcmV0dXJuICd5YWhvbyc7XG4gICAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdkdWNrZHVja2dvLmNvbScpKSByZXR1cm4gJ2R1Y2tkdWNrZ28nO1xuICAgIGlmIChob3N0bmFtZS5pbmNsdWRlcygnYmFpZHUuY29tJykpIHJldHVybiAnYmFpZHUnO1xuICAgIFxuICAgIHJldHVybiBob3N0bmFtZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuICdpbnZhbGlkJztcbiAgfVxufVxuXG4vKipcbiAqIERlYm91bmNlIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZTxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuICBmdW5jOiBULFxuICB3YWl0OiBudW1iZXJcbik6ICguLi5hcmdzOiBQYXJhbWV0ZXJzPFQ+KSA9PiB2b2lkIHtcbiAgbGV0IHRpbWVvdXQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgbnVsbCA9IG51bGw7XG4gIFxuICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pIHtcbiAgICBpZiAodGltZW91dCkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGZ1bmMoLi4uYXJncyksIHdhaXQpO1xuICB9O1xufVxuXG4vKipcbiAqIFNhZmUgSlNPTiBwYXJzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZUpzb25QYXJzZTxUPihqc29uOiBzdHJpbmcsIGZhbGxiYWNrOiBUKTogVCB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxufSAiLCJpbXBvcnQgdHlwZSB7IEFuYWx5dGljc0NvbmZpZywgQW5hbHl0aWNzRXZlbnQsIFBhZ2VWaWV3RXZlbnQsIFNlc3Npb25EYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVTZXNzaW9uSWQsXG4gIGlzQnJvd3NlcixcbiAgaXNEb05vdFRyYWNrRW5hYmxlZCxcbiAgZ2V0Vmlld3BvcnQsXG4gIGdldFNjcmVlblJlc29sdXRpb24sXG4gIHNhZmVKc29uUGFyc2UsXG59IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCBTRVNTSU9OX1RJTUVPVVQgPSAzMCAqIDYwICogMTAwMDsgLy8gMzAgbWludXRlc1xuY29uc3QgU0VTU0lPTl9TVE9SQUdFX0tFWSA9ICdjb3NtaWNfYW5hbHl0aWNzX3Nlc3Npb24nO1xuXG5leHBvcnQgY2xhc3MgQ29zbWljQW5hbHl0aWNzIHtcbiAgcHJpdmF0ZSBwcm9qZWN0SWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBhcGlFbmRwb2ludDogc3RyaW5nO1xuICBwcml2YXRlIGNvbmZpZzogQW5hbHl0aWNzQ29uZmlnO1xuICBwcml2YXRlIHNlc3Npb246IFNlc3Npb25EYXRhIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcGFnZVZpZXdTdGFydDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBpc0VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHF1ZXVlOiBBbmFseXRpY3NFdmVudFtdID0gW107XG4gIHByaXZhdGUgZmx1c2hUaW1lcjogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc/OiBBbmFseXRpY3NDb25maWcpIHtcbiAgICAvLyBNZXJnZSBkZWZhdWx0IGNvbmZpZyB3aXRoIHVzZXIgY29uZmlnIGZpcnN0XG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICBhcGlFbmRwb2ludDogJ2h0dHBzOi8vYXBpLmNvc21pYy5uZXcvYW5hbHl0aWNzJyxcbiAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICByZXNwZWN0RG9Ob3RUcmFjazogdHJ1ZSxcbiAgICAgIHNlbmRJbkRldmVsb3BtZW50OiBmYWxzZSxcbiAgICAgIC4uLmNvbmZpZyxcbiAgICB9O1xuICAgIFxuICAgIC8vIEdldCBwcm9qZWN0IElEIGZyb20gY29uZmlnIG9yIGVudmlyb25tZW50IHZhcmlhYmxlXG4gICAgdGhpcy5wcm9qZWN0SWQgPSB0aGlzLmNvbmZpZy5wcm9qZWN0SWQgfHwgdGhpcy5nZXRQcm9qZWN0SWQoKTtcbiAgICBcbiAgICB0aGlzLmFwaUVuZHBvaW50ID0gdGhpcy5jb25maWcuYXBpRW5kcG9pbnQhO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIGFuYWx5dGljcyBzaG91bGQgYmUgZW5hYmxlZFxuICAgIHRoaXMuaXNFbmFibGVkID0gdGhpcy5zaG91bGRFbmFibGVBbmFseXRpY3MoKTtcbiAgICBcbiAgICBpZiAodGhpcy5pc0VuYWJsZWQgJiYgaXNCcm93c2VyKCkpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVNlc3Npb24oKTtcbiAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICAgICAgdGhpcy5zdGFydEZsdXNoVGltZXIoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFByb2plY3RJZCgpOiBzdHJpbmcge1xuICAgIC8vIFNpbXBseSByZXR1cm4gZW1wdHkgc3RyaW5nIGFzIGZhbGxiYWNrXG4gICAgLy8gVGhlIHByb2plY3RJZCBzaG91bGQgYmUgcHJvdmlkZWQgdmlhIGNvbmZpZyBmcm9tIHRoZSBSZWFjdCBjb21wb25lbnRcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBwcml2YXRlIGlzRGV2ZWxvcG1lbnRNb2RlKCk6IGJvb2xlYW4ge1xuICAgIC8vIEZpcnN0IGNoZWNrIGlmIGlzRGV2ZWxvcG1lbnQgaXMgZXhwbGljaXRseSBzZXQgaW4gY29uZmlnXG4gICAgaWYgKHR5cGVvZiB0aGlzLmNvbmZpZy5pc0RldmVsb3BtZW50ID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5pc0RldmVsb3BtZW50O1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudCAoTmV4dC5qcyBzZXJ2ZXItc2lkZSlcbiAgICBpZiAodHlwZW9mIChnbG9iYWxUaGlzIGFzIGFueSkucHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiAoZ2xvYmFsVGhpcyBhcyBhbnkpLnByb2Nlc3MuZW52Py5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAgICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICAgIC8vIENoZWNrIE5leHQuanMgcnVudGltZSBjb25maWdcbiAgICAgIGlmICgod2luZG93IGFzIGFueSkuX19ORVhUX0RBVEFfXz8uYnVpbGRJZCA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRmFsbGJhY2sgdG8gY2hlY2tpbmcgaG9zdG5hbWVcbiAgICAgIGNvbnN0IGhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgICAgcmV0dXJuIGhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fCBob3N0bmFtZSA9PT0gJzEyNy4wLjAuMScgfHwgaG9zdG5hbWUuaW5jbHVkZXMoJy5sb2NhbCcpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHNob3VsZEVuYWJsZUFuYWx5dGljcygpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuYWJsZWQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXRoaXMucHJvamVjdElkKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDb3NtaWMgQW5hbHl0aWNzOiBORVhUX1BVQkxJQ19DTElFTlRfSUQgbm90IGZvdW5kJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGRldmVsb3BtZW50IG1vZGUgYW5kIGlmIHNlbmRJbkRldmVsb3BtZW50IGlzIGZhbHNlIChkZWZhdWx0KVxuICAgIGlmICh0aGlzLmlzRGV2ZWxvcG1lbnRNb2RlKCkgJiYgIXRoaXMuY29uZmlnLnNlbmRJbkRldmVsb3BtZW50KSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvc21pYyBBbmFseXRpY3M6IERpc2FibGVkIGluIGRldmVsb3BtZW50IG1vZGUuIFNldCBzZW5kSW5EZXZlbG9wbWVudDogdHJ1ZSB0byBlbmFibGUuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8vIFJlc3BlY3QgRG8gTm90IFRyYWNrIGlmIGNvbmZpZ3VyZWRcbiAgICBpZiAodGhpcy5jb25maWcucmVzcGVjdERvTm90VHJhY2sgJiYgaXNEb05vdFRyYWNrRW5hYmxlZCgpKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvc21pYyBBbmFseXRpY3M6IFJlc3BlY3RpbmcgRG8gTm90IFRyYWNrIHByZWZlcmVuY2UnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVTZXNzaW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0b3JlZFNlc3Npb24gPSB0aGlzLmdldFN0b3JlZFNlc3Npb24oKTtcbiAgICBcbiAgICBpZiAoc3RvcmVkU2Vzc2lvbiAmJiB0aGlzLmlzU2Vzc2lvblZhbGlkKHN0b3JlZFNlc3Npb24pKSB7XG4gICAgICB0aGlzLnNlc3Npb24gPSBzdG9yZWRTZXNzaW9uO1xuICAgICAgdGhpcy5zZXNzaW9uLmxhc3RBY3Rpdml0eSA9IERhdGUubm93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2Vzc2lvbiA9IHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlU2Vzc2lvbklkKCksXG4gICAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgcGFnZVZpZXdzOiAwLFxuICAgICAgICBsYXN0QWN0aXZpdHk6IERhdGUubm93KCksXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICB0aGlzLnNhdmVTZXNzaW9uKCk7XG4gIH1cblxuICBwcml2YXRlIGdldFN0b3JlZFNlc3Npb24oKTogU2Vzc2lvbkRhdGEgfCBudWxsIHtcbiAgICBpZiAoIWlzQnJvd3NlcigpKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZKTtcbiAgICAgIGlmICghc3RvcmVkKSByZXR1cm4gbnVsbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHNhZmVKc29uUGFyc2U8U2Vzc2lvbkRhdGEgfCBudWxsPihzdG9yZWQsIG51bGwpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc1Nlc3Npb25WYWxpZChzZXNzaW9uOiBTZXNzaW9uRGF0YSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIG5vdyAtIHNlc3Npb24ubGFzdEFjdGl2aXR5IDwgU0VTU0lPTl9USU1FT1VUO1xuICB9XG5cbiAgcHJpdmF0ZSBzYXZlU2Vzc2lvbigpOiB2b2lkIHtcbiAgICBpZiAoIWlzQnJvd3NlcigpIHx8ICF0aGlzLnNlc3Npb24pIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNlc3Npb24pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKHRoaXMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nvc21pYyBBbmFseXRpY3M6IEZhaWxlZCB0byBzYXZlIHNlc3Npb24nLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHJldHVybjtcbiAgICBcbiAgICAvLyBQYWdlIHZpc2liaWxpdHkgY2hhbmdlXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgIHRoaXMudHJhY2tQYWdlRXhpdCgpO1xuICAgICAgICB0aGlzLmZsdXNoKHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJykge1xuICAgICAgICAvLyBUcmFjayBhIG5ldyBwYWdlIHZpZXcgd2hlbiByZXR1cm5pbmcgdG8gdGhlIHRhYlxuICAgICAgICB0aGlzLnRyYWNrUGFnZVZpZXcoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBCZWZvcmUgdW5sb2FkXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsICgpID0+IHtcbiAgICAgIHRoaXMudHJhY2tQYWdlRXhpdCgpO1xuICAgICAgdGhpcy5mbHVzaCh0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhcnRGbHVzaFRpbWVyKCk6IHZvaWQge1xuICAgIHRoaXMuZmx1c2hUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9LCA1MDAwKTsgLy8gRmx1c2ggZXZlcnkgNSBzZWNvbmRzXG4gIH1cblxuICBwcml2YXRlIHN0b3BGbHVzaFRpbWVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmZsdXNoVGltZXIpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5mbHVzaFRpbWVyKTtcbiAgICAgIHRoaXMuZmx1c2hUaW1lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRUb1F1ZXVlKGV2ZW50OiBBbmFseXRpY3NFdmVudCk6IHZvaWQge1xuICAgIHRoaXMucXVldWUucHVzaChldmVudCk7XG4gICAgXG4gICAgLy8gRmx1c2ggaW1tZWRpYXRlbHkgaWYgcXVldWUgaXMgZ2V0dGluZyBsYXJnZVxuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA+PSAxMCkge1xuICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZmx1c2goZm9yY2VTZW5kTm93ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBldmVudHMgPSBbLi4udGhpcy5xdWV1ZV07XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYXBpRW5kcG9pbnR9L3RyYWNrYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZXZlbnRzIH0pLFxuICAgICAgICBrZWVwYWxpdmU6IGZvcmNlU2VuZE5vdyxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHRoaXMuY29uZmlnLmRlYnVnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nvc21pYyBBbmFseXRpY3M6IEZhaWxlZCB0byBzZW5kIGV2ZW50cycsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIC8vIFJlLWFkZCBldmVudHMgdG8gcXVldWUgZm9yIHJldHJ5XG4gICAgICAgIHRoaXMucXVldWUudW5zaGlmdCguLi5ldmVudHMpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ29zbWljIEFuYWx5dGljczogRXJyb3Igc2VuZGluZyBldmVudHMnLCBlcnJvcik7XG4gICAgICB9XG4gICAgICAvLyBSZS1hZGQgZXZlbnRzIHRvIHF1ZXVlIGZvciByZXRyeVxuICAgICAgdGhpcy5xdWV1ZS51bnNoaWZ0KC4uLmV2ZW50cyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHRyYWNrUGFnZVZpZXcob3ZlcnJpZGVzPzogUGFydGlhbDxQYWdlVmlld0V2ZW50Pik6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0VuYWJsZWQgfHwgIWlzQnJvd3NlcigpIHx8ICF0aGlzLnNlc3Npb24pIHJldHVybjtcbiAgICBcbiAgICB0aGlzLnBhZ2VWaWV3U3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuc2Vzc2lvbi5wYWdlVmlld3MrKztcbiAgICB0aGlzLnNlc3Npb24ubGFzdEFjdGl2aXR5ID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnNhdmVTZXNzaW9uKCk7XG4gICAgXG4gICAgY29uc3QgZXZlbnQ6IFBhZ2VWaWV3RXZlbnQgPSB7XG4gICAgICBldmVudDogJ3BhZ2V2aWV3JyxcbiAgICAgIHByb2plY3RJZDogdGhpcy5wcm9qZWN0SWQsXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbi5pZCxcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICB0aXRsZTogZG9jdW1lbnQudGl0bGUsXG4gICAgICByZWZlcnJlcjogZG9jdW1lbnQucmVmZXJyZXIgfHwgJ2RpcmVjdCcsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBzY3JlZW5SZXNvbHV0aW9uOiBnZXRTY3JlZW5SZXNvbHV0aW9uKCksXG4gICAgICB2aWV3cG9ydDogZ2V0Vmlld3BvcnQoKSxcbiAgICAgIGxhbmd1YWdlOiBuYXZpZ2F0b3IubGFuZ3VhZ2UsXG4gICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAuLi5vdmVycmlkZXMsXG4gICAgfTtcbiAgICBcbiAgICBpZiAodGhpcy5jb25maWcuZGVidWcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDb3NtaWMgQW5hbHl0aWNzOiBQYWdlIHZpZXcnLCBldmVudCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuYWRkVG9RdWV1ZShldmVudCk7XG4gIH1cblxuICBwdWJsaWMgdHJhY2tQYWdlRXhpdCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNFbmFibGVkIHx8ICFpc0Jyb3dzZXIoKSB8fCAhdGhpcy5zZXNzaW9uIHx8ICF0aGlzLnBhZ2VWaWV3U3RhcnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSB0aGlzLnBhZ2VWaWV3U3RhcnQ7XG4gICAgXG4gICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICBldmVudDogJ3BhZ2VleGl0JyBhcyBjb25zdCxcbiAgICAgIHByb2plY3RJZDogdGhpcy5wcm9qZWN0SWQsXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbi5pZCxcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9O1xuICAgIFxuICAgIGlmICh0aGlzLmNvbmZpZy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coJ0Nvc21pYyBBbmFseXRpY3M6IFBhZ2UgZXhpdCcsIGV2ZW50KTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5hZGRUb1F1ZXVlKGV2ZW50KTtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICBpZiAoIWlzQnJvd3NlcigpKSByZXR1cm47XG4gICAgXG4gICAgLy8gQ2xlYXIgc2Vzc2lvblxuICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShTRVNTSU9OX1NUT1JBR0VfS0VZKTtcbiAgICBcbiAgICAvLyBSZS1pbml0aWFsaXplIHdpdGggbmV3IHNlc3Npb25cbiAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVNlc3Npb24oKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3RvcEZsdXNoVGltZXIoKTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gIH1cblxuICBwdWJsaWMgZW5hYmxlKCk6IHZvaWQge1xuICAgIHRoaXMuaXNFbmFibGVkID0gdGhpcy5zaG91bGRFbmFibGVBbmFseXRpY3MoKTtcbiAgICBpZiAodGhpcy5pc0VuYWJsZWQgJiYgaXNCcm93c2VyKCkpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVNlc3Npb24oKTtcbiAgICAgIHRoaXMuc3RhcnRGbHVzaFRpbWVyKCk7XG4gICAgfVxuICB9XG59ICIsIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgQW5hbHl0aWNzQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgdXNlQ29zbWljQW5hbHl0aWNzIH0gZnJvbSAnLi91c2VDb3NtaWNBbmFseXRpY3MnO1xuXG5pbnRlcmZhY2UgQ29zbWljQW5hbHl0aWNzUHJvdmlkZXJQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNvbmZpZz86IEFuYWx5dGljc0NvbmZpZztcbn1cblxuLyoqXG4gKiBQcm92aWRlciBjb21wb25lbnQgZm9yIGVhc3kgaW50ZWdyYXRpb24gd2l0aCBOZXh0LmpzIGxheW91dHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvc21pY0FuYWx5dGljc1Byb3ZpZGVyKHsgXG4gIGNoaWxkcmVuLCBcbiAgY29uZmlnIFxufTogQ29zbWljQW5hbHl0aWNzUHJvdmlkZXJQcm9wcykge1xuICAvLyBSZWFkIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBoZXJlIHdoZXJlIE5leHQuanMgY2FuIHJlcGxhY2UgaXRcbiAgY29uc3QgcHJvamVjdElkID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0xJRU5UX0lEO1xuICBjb25zdCBpc0RldmVsb3BtZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCc7XG4gIFxuICAvLyBNZXJnZSB0aGUgcHJvamVjdElkIHdpdGggdGhlIHByb3ZpZGVkIGNvbmZpZ1xuICBjb25zdCBtZXJnZWRDb25maWc6IEFuYWx5dGljc0NvbmZpZyA9IHtcbiAgICBwcm9qZWN0SWQsXG4gICAgaXNEZXZlbG9wbWVudCxcbiAgICAuLi5jb25maWcsXG4gIH07XG4gIFxuICB1c2VDb3NtaWNBbmFseXRpY3MobWVyZ2VkQ29uZmlnKTtcbiAgXG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59ICJdLCJuYW1lcyI6WyJuYXZpZ2F0b3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/cosmic-analytics/dist/index.mjs\n");

/***/ })

};
;